# act configuration for local testing
# https://github.com/nektos/act

# Use medium runners for better compatibility
--platform ubuntu-latest=ghcr.io/catthehacker/ubuntu:act-latest
--platform ubuntu-22.04=ghcr.io/catthehacker/ubuntu:act-22.04

# Resource limits for local testing
--container-options "--memory=2g --cpus=2"

# Reuse containers for faster runs
--reuse

# Use local cache
--cache-path .act-cache

# Pull images if newer
--pull=false

# Default secrets for testing
--secret APP_ID=123456
--secret APP_PRIVATE_KEY="-----BEGIN RSA PRIVATE KEY-----\ntest\n-----END RSA PRIVATE KEY-----"
--secret WEBHOOK_SECRET=test-webhook-secret
--secret GITHUB_TOKEN=$GITHUB_TOKEN

# Skip these workflows in local testing
--workflows '.github/workflows/*-optimized.yml'

# Verbose output for debugging
# --verbose